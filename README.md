# Latex playbook
A LaTeX project to create nice looking theater playbooks, as used by the german ensemble [Der ChaosTRUB](http://chaostrub.de).

View the example PDF generated by this project [here](https://lbbo.github.io/latex-playbook/play.pdf)

## Motivation
We often face the problem that our plays are formatted in a way that we don't particularly care for. However, reformatting everything in a WYSIWYG editor is very time-consuming and not exactly enjoyable.

We discovered that there are usually simple ways to add / remove text automatically to the places we would like to change, but text usually doesn't affect the formatting of documents. Well, this is where LaTeX comes in! You can automatically (via a script, RegExp or something similar) add the commands to the playbook and then just paste it into the `tex` file - voil√†, you're done!

## Usage
### Setup LaTeX
As this is a 100%-LaTeX project, you will need to have that installed before continuing. For more information, please check [this website](https://www.latex-project.org/get/).

### Configure general play data
First, you should open `src/config.tex` and add all the information about your play. You might also want to configure `src/title_page.tex` to ensure the title page fits your needs.

### Add character information
For each character in your play, you will need to add a counter in `src/character_counters.tex`. You'll then need to open `src/title_page.tex` and modify the two tables. The first table is a list of all characters with brief descriptions. It also shows who plays the character and how often they appear. The second table is a list of all scenes with the characters that appear in each scene. Add one line per character to the first table and one column per character to the second one. To make life easy for yourself, you can just remove all the actual lines of the second table until the content is (nearly) complete.

**ATTENTION:** The character's name is case-sensitive for the created counters! It has to be spelled **exactly** as it will be throughout the rest of the play.

**ATTENTION:** The LaTeX file must be compiled twice to correctly output the couters' results! The first compilation after a change will only result in question marks instead of correct numbers. This happens automatically in the CI.

## Add the play
Now comes the main part: writing the actual play! In order to correctly format the play, please use the following commands:

* `\act{Act name}` - Insert an act's title.

* `\scene{Scene title -- Subtitle}{Character 1, Character 2 (+ Character 3, Character 4)}` - Insert a scene's title and, below the title, note which characters appear in this scene. We tend to even add characters that don't say anything but are present nonetheless in brackets.

* `\character{Name} Lorem ipsum dolor sit amet...` - Begin a character's line. **ATTENTION** The character's name must be spelled **exactly** as in the previous commands (including lower-case and upper-case letters)!

* `\InlineStageDirection{Stage direction}` - Add a small stage direciton (i.e. "whispers", "grabs the box") in the middle of a line. Please note the curly braces around the stage direction!

* `\BlockStageDirection Stage direction` - Add a large stage direction (i.e. multiple characters entering the stage and interacting with each other without saying anything) that is important enough to be "its own line". Please note the absence of curly braces around the actual stage direction!

#### Fill out the table of scenes and appearances
By running one of the scripts, you can auto-generate this table. However, you will need to fill in the page numbers and silent appearances manually. The script will generate a table with all the scenes and the characters that appear in them.

```sh
cd go-scripts
go run . create-scene-table --src ../src
```

This table's code should then look somewhat like this:

```tex
Scene & Pages & Character 1 & Character 2 & ... & Character n \\ \hline
1 & 1-2 &  &  & ... & \cellcolor{TableColorAppearance} \\ \hline % In this scene, Character n might be having a monologue
2 & 2-5 & \cellcolor{TableColorAppearance} & \cellcolor{TableColorAppearance} & ... & \cellcolor{TableColorSemiAppearance} + \\ \hline % Now Character 1 and Character 2 might be discussing something while Character n is just observing from the background
...
k & i-j &  &  & ... & \cellcolor{TableColorAppearance} \\ \hline % Perhaps Character n ends the play with another monologue
```

## Customize the playbook
Time to get creative! You might want to customize the very first page (which is currently directed towards strangers, asking them to return the playbook in case it is lost by a cast member and then found by somebody) by adding your group's contact information.

You could also add some metadata about your play above or below the table of your characters (or anywhere else) and just customize the design until you're happy with it!

## Compile the playbook
You can either compile it locally (if you have LaTeX installed) or use the CI to compile it for you. The CI will automatically upload the PDF to the `gh-pages` branch, so you can easily share the link with your cast and crew once you've deployed that branch to GitHub pages.
